% !TEX TS-program = ConTeXt (LMTX2022)
% !TEX encoding = UTF-8 Unicode

% Copyright 2018 Axel Kielhorn
% Lizenz: CC-BY-SA 4.0 Unported http://creativecommons.org/licenses/by-sa/4.0/deed.de

\startcomponent *
\product prd_intro
\project project_intro

\startsection[
  reference=textformatierungen,
  title={Textformatierungen},
  ]
\index{Kursiv}\index{fett}
In diesem Abschnitt sollen verschiedenen Textformatierungen ausprobiert
werden. 
Die Befehle ändern den nachfolgenden Text.
Sie müssen daher mit dem Text in \type{{}} eingeschlossen werden.
Alternativ gibt es auch eine Form in der der Text als Argument übergeben wird.

\definetextbackground
 [Highlight]
 [frame=off,
  background=color,
  backgroundcolor=yellow]

\startitemize
\setupalign[tolerant]
\item
  hervorgehoben: \type{{\em }} {\em hervorgehoben}. 
  Die Standardeinstellung für \tex{em} ist geneigt, 
  für dieses Dokument wurde in der Environmentdatei kursive ausgewählt:
  \tex{setupbodyfontenvironment[default][em=italic]} 
\item
  fett: \type{{\bf }} {\bf fett} oder \tex{bold{fett}} \bold{fett}.
\item
  kursiv: \type{{\it }} {\it kursiv} oder \tex{italic{kursiv}} \italic{kursiv}.
\item
  kursiv fett: \type{{\bi }} {\bi kursiv fett} oder\tex{italicbold{kursiv fett}} 
  (\type{bolditalic} geht auch) \italicbold{kursiv}.
\item
  geneigt: \type{{\sl }} {\sl geneigt} oder \tex{slanted{geneigt}} \slanted{geneigt}. 
\item
  geneigt fett: \type{{\bs }} {\bs geneigt fett} oder \tex{slantedbold{geneigt fett}} 
  (\type{boldslanted} geht auch) \slantedbold{geneigt fett}. 
\item
  Sans-Serif: \type{{\ss }} {\ss Sans Serif} oder \tex{sans{Sans Serif}} \sans{Sans Serif}.
\item
  Sans-Serif Fett: \tex{sansbold{Sans Serif Fett}} \sansbold{Sans Serif Fett}.  
\item
  Schreibmaschine: \type{{\tt }} {\tt Schreibmaschine} oder \tex{mono{Schreibmaschine}} 
  \mono{Schreibmaschine}
\item
  Schreibmaschine fett: \type{{\tt\bf }} {\tt\bf Schreibmaschine fett} oder 
  \tex{monobold{ Schreibmaschine fett}} \monobold{Schreibmaschine fett}.
\item
  Kapitälchen: \type{{\sc Kapitälchen}} {\sc Kapitälchen}
\item
  unterstrichen 1: \type{{\underbar }} {\underbar alles unterstrichen}
\item
  unterstrichen 2: \type{{\underbars }} {\underbars Jedes Wort wird einzeln unterstrichen}
\item
  Oldstyle Ziffern: Normale Ziffern 1234567890 oder mit \type{{\oldstyle }} {\oldstyle 1234567890}
  (Achtung: Es gibt noch den alten Befehl \tex{os}, dieser sollte {\em nicht} mehr verwendet werden.
  \tex{os}: {\os 1992 -- 1999} \tex{oldstyle}: {\oldstyle 2000 -- 2020})
\item
  Durchstreichen: \tex{overstrike{}} {\overstrike{over}}, 
  für einen durchgehenden Strich und \tex{overstrikes} für einen Strich pro Wort.
  Die Farbe und Liniendicke lässt sich ändern 
  \setupbar[overstrike][color=red,rulethickness=0.2]\overstrike{rot schwarz} \overstrikes{rot schwarz}
  \starttyping
    \setupbar[overstrike][% overstrikes, over/underbar[s]
    color=red,            %  Farbe
    rulethickness=0.4,    %  Liniendicke in pt 
    offset=1]             %  Höhenverschiebung in ex (0.5)
    \overstrike{rot}}
  \stoptyping

Analog gibt es auch die Befehle \tex{overbar}, \tex{overbars} sowie \tex{underbar} und \tex{underbars}.

\item Hintergrund einfärben (Textmarker): Zum Einfärben des Hintergrundes definiert man sich einfach einen neues Befeh: 
  \starttyping
    \definetextbackground
    [Highlight]
    [frame=off,
    background=color,
    backgroundcolor=yellow]
  \stoptyping
  
Dann lässt sich mit \tex{Highlight{}} der Text \Highlight{auch über mehrere Wörter markieren.}

\stopitemize

Textformatierungen kann man auch blockweise für ganze Absätze nutzen:

{\em Dies ist ein kurzer Absatz {\em mit einem hervorgehobenen Einschub}, 
der mit \tex{em} hervorgehoben wurde.}

{\bf Dies ist ein kurzer Absatz, der mit \tex{bf} fett gedruckt
wurde.}

{\sc Dies ist ein kurzer Absatz, der mit \tex{sc} als Kapitälchen
gesetzt wurde.}

{\sl Dies ist ein kurzer Absatz, der mit \tex{sl} geneigt gesetzt
wurde.}

{\it Dies ist ein kurzer Absatz, der mit \tex{it} kursiv gesetzt
wurde.}

{\tt Dies ist ein kurzer Absatz, der mit \tex{tt} in
Schreibmaschinenschrift gesetzt wurde.}

{\ss Dies ist ein kurzer Absatz, der mit \tex{ss} serifenlos gesetzt
wurde.}

\startsubsection[title={Schriftauswahl}]

Jahrelang konnte man mit TeX erstellte Dokumente sofort an ihrer Schrift erkennen.
Inzwischen können beliebige TrueType-Schriften mit TeX verwendet werden.
ConTeXt liefert einige Schriften bereits mit, 
weitere Schriften lassen sich leicht im Verzeichnis \type{/tex/texmf-fonts} 
im ConTeXt Verzeichnis installieren. 
Diese müssen dann mit dem Befehl \type{mtxrun --script fonts --reload} dem
System bekanntgemacht werden.

Der Befehl \type{mtxrun --script fonts --list --all} listet alle bekannten
Zeichensätze auf. Das Ergebnis sollte daher am besten in eine Datei umgelenkt werden.
Diese Datei ist sinnvoll, wenn man den Namen bzw. den Familiennamen eines Zeichensatzes ermitteln möchte.

In der Environment-Datei befinden sich bereits die Definitionen für die Schriften aus dem ConTeXt Paket zum ausprobieren.

Es reicht eine Textschrift (serif oder sans) und die Mathematikschrift zu definieren.
Letztere wird für Aufzählungssymbole benötigt.
Die meisten Schriften bieten keine Schreibmaschinenschrift an, 
hier muss eine passende Alternative gefunden und evtl. skaliert werden.

Für die Familie DejaVu sieht die Anpassung so aus:

\starttyping
\definefontfamily[dejafamily] [serif][DejaVu Serif]
    [expansion=quality,protrusion=quality]
\definefontfamily[dejafamily] [sans][DejaVu Sans]
    [expansion=quality,protrusion=quality]
\definefontfamily[dejafamily] [mono][Dejavu Sans Mono]
    [scale=0.85, features=none]
\definefontfamily[dejafamily] [math][DejaVu Math]
\setupbodyfont[dejafamily,11pt]
\stoptyping

Folgende Schriften können definiert werden:

{\bTABLE
\setupTABLE[frame=off]
\setupTABLE[r][1][style=\bf]
\bTR \bTD Kurzform \eTD \bTD Langform \eTD \eTR
\bTR \bTD rm \eTD \bTD serif \eTD \eTR
\bTR \bTD ss \eTD \bTD sans \eTD \eTR
\bTR \bTD tt \eTD \bTD mono \eTD \eTR
\bTR \bTD mm \eTD \bTD math \eTD \eTR
\bTR \bTD hw \eTD \bTD handwriting \eTD \eTR
\bTR \bTD cg \eTD \bTD calligraphy \eTD \eTR
\eTABLE
}

Außerdem lassen sich einige Optionen auswählen:

{\bTABLE
\setupTABLE[frame=off]
\setupTABLE[c][each][align=lohi,frame=off]
\setupTABLE[c=3][width=60 mm]
\setupTABLE[r][1][style=\bf]
\bTR \bTD Name      \eTD \bTD Optionen \eTD \bTD Bedeutung \eTD \eTR
\bTR \bTD scale     \eTD \bTD Zahlenwert \eTD \bTD Zeichensatz wird vergrößert oder verkleinert. \eTD \eTR
\bTR \bTD expansion \eTD \bTD quality \eTD \bTD Buchstaben werden geringfügig verbreitert oder verschmälert. \eTD \eTR
\bTR \bTD[nr=4] protrusion \eTD \bTD pure \eTD \bTD Einige Satzzeichen hängen komplett über den Rand des Textbereiches. \eTD \eTR
\bTR                            \bTD punctuation \eTD \bTD Satzzeichen hängen teilweise über den Rand des Textbereiches. \eTD \eTR
\bTR                            \bTD alpha \eTD \bTD Buchstabenbreiten werden verändert. \eTD \eTR
\bTR                            \bTD quality \eTD \bTD alpha und punctuation \eTD \eTR
\bTR \bTD features \eTD \bTD OpenType feature \eTD \bTD Schriftabhängig \eTD \eTR
\eTABLE
}

Einige gängige Features für das lateinische Sprachsystem (\type{latn}).
Hier hilft oft nur die Dokumentation zum Zeichensatz weiter.

{\bTABLE
\setupTABLE[frame=off]
\setupTABLE[r][1][style=\bf]
\bTR \bTD Feature \eTD \bTD Funktion \eTD \eTR
\bTR \bTD liga \eTD \bTD Ligaturen werden automatisch erstellt \eTD \eTR
\bTR \bTD dlig \eTD \bTD Exotische (veraltete) Ligaturen \eTD \eTR
\bTR \bTD salt \eTD \bTD Alternativer Stil \eTD \eTR
\bTR \bTD lnum \eTD \bTD Normale Ziffern \eTD \eTR
\bTR \bTD onum \eTD \bTD Oldstyle Ziffern \eTD \eTR
\bTR \bTD tnum \eTD \bTD Tabellenziffern (gleiche Breite) \eTD \eTR
\bTR \bTD pnum \eTD \bTD Proportionale Ziffern \eTD \eTR
\eTABLE
}

\stopsubsection

\startsubsection[title={Mitgelieferte Schriften}]

Anders als bei TeX-Live werden mit ConTeXt nur wenige Schriften mitgeliefert.
Diese können einfach aufgerufen werden.

\startitemize
\item \start\setupbodyfont[antykwa-poltawskiego]Antykwa Poltawski\stop
\item \start\setupbodyfont[antykwa]Atykwa Toruska\stop
\item \start\setupbodyfont[dejavu]DejaVu und DejaVu Math\stop
\item \start\setupbodyfont[gentium]Gentium-TUG\stop
\item \start\setupbodyfont[IBMPlex]IBM Plex\stop
\item \start\setupbodyfont[iwona]Iwona\stop
\item \start\setupbodyfont[kurier]\ss Kurier\stop

\item \start\setupbodyfont[adventor]TeX Gyre Adventor\stop
\item \start\setupbodyfont[bonum]TeX Gyre Bonum und TeX Gyre Bonum Math\stop
\item \start\setupbodyfont[chorus]TeX Gyre Chorus\stop
\item \start\setupbodyfont[cursor]TeX Gyre Cursor\stop
\item \start\setupbodyfont[heros]TeX Gyre Heros\stop
\item \start\setupbodyfont[pagella]TeX Gyre Pagella und TeX Gyre Pagella Math\stop
\item \start\setupbodyfont[schola]TeX Gyre Schola und TeX Gyre Schola Math\stop
\item \start\setupbodyfont[termes]TeX Gyre Termes und TeX Gyre Termes Math\stop
\stopitemize

\starttyping
\start\setupbodyfont[antykwa-poltawskiego]Antykwa Poltawski\stop
\start\setupbodyfont[antykwa]Atykwa Toruska\stop
\start\setupbodyfont[dejavu]DejaVu und DejaVu Math\stop
\start\setupbodyfont[gentium]Gentium-TUG\stop
\start\setupbodyfont[IBMPlex]IBM Plex\stop
\start\setupbodyfont[iwona]Iwona\stop
\start\setupbodyfont[kurier]\ss Kurier\stop

\start\setupbodyfont[adventor]TeX Gyre Adventor\stop
\start\setupbodyfont[bonum]TeX Gyre Bonum und TeX Gyre Bonum Math\stop
\start\setupbodyfont[chorus]TeX Gyre Chorus\stop
\start\setupbodyfont[cursor]TeX Gyre Cursor\stop
\start\setupbodyfont[heros]TeX Gyre Heros\stop
\start\setupbodyfont[pagella]TeX Gyre Pagella und TeX Gyre Pagella Math\stop
\start\setupbodyfont[schola]TeX Gyre Schola und TeX Gyre Schola Math\stop
\start\setupbodyfont[termes]TeX Gyre Termes und TeX Gyre Termes Math\stop
\stoptyping

\stopsubsection

\startmode[Fonts]
\startsubsection[title={Betriebssystem Schriften}]

ConTeXt kann auch auf die installierten Schriften des Betriebssystems zugreifen.
Diese müssen vorher definiert werden. 
Bei Schriften im \type{.ttc} Format ist etwas mehr Aufwand erforderlich:

\starttyping
\starttypescript [sans] [optima]
 \setups[font:fallback:sans]
 \definefontsynonym [Sans]           [file:Optima.ttc(Optima Regular)]     [features=default]
 \definefontsynonym [SansBold]       [file:Optima.ttc(Optima Bold)]       [features=default]
 \definefontsynonym [SansItalic]     [file:Optima.ttc(Optima Italic)]      [features=default]
 \definefontsynonym [SansBoldItalic] [file:Optima.ttc(Optima Bold Italic)] [features=default]
\stoptypescript

\definetypeface [optima] [ss] [sans] [optima] [default]

\setupbodyfont [optima]
\stoptyping

Die Schrift Optima wird bei macos mitgelieffert:

\start
\starttypescript [sans] [optima]
 \setups[font:fallback:sans]
 \definefontsynonym [Sans]           [file:Optima.ttc(Optima Regular)]     [features=default]
 \definefontsynonym [SansBold]       [file:Optima.ttc(Optima Bold)]       [features=default]
 \definefontsynonym [SansItalic]     [file:Optima.ttc(Optima Italic)]      [features=default]
 \definefontsynonym [SansBoldItalic] [file:Optima.ttc(Optima Bold Italic)] [features=default]
\stoptypescript

\definetypeface [optima] [ss] [sans] [optima] [default]

\setupbodyfont [optima]

Das hier ist Optima. {\bf Optima in Fett} {\it und in Kursiv.}
\stop

Mandala stammt von der \quotation{Association for Insight Meditation} und unterliegt der GPL.

\starttyping
\definefontfamily[mandala][rm][Mandala]
\setupbodyfont[mandala]
\stoptyping

\start
\definefontfamily[mandala][rm][Mandala]
\setupbodyfont[mandala]

Das hier ist Mandala. {\bf Mandala in Fett} {\it und in Kursiv.}
\stop

Vollkorn stammt von \quotation{The Vollkorn Project Authors} (Friedrich Althausen)
und wurde unter der OFL 1.1 veröffentlicht.

\start
\definefontfamily[vollkorn][rm][Vollkorn]
\setupbodyfont[vollkorn]

Das hier ist Vollkorn. {\bf Vollkorn in Fett} {\it und in Kursiv.}
\stop

\stopsubsection
\stopmode

\stopsection

\stopcomponent

