% !TEX TS-program = ConTeXt (LMTX2022)
% !TEX encoding = UTF-8 Unicode

% Copyright 2018 Axel Kielhorn
% Lizenz: CC-BY-SA 4.0 Unported http://creativecommons.org/licenses/by-sa/4.0/deed.de

\startcomponent *
\product prd_intro
\project project_intro

\startsection[title={Ein einfaches Dokument}]

Ein minimales Dokument benötigt nur drei Zeilen:

\starttyping
\starttext
  Text
\stoptext
\stoptyping

Es gibt keine Dokumentklassen, Anpassungen am Layout werden direkt im Dokument oder in einer Environment-Datei vorgenommen.
Außerdem können Module geladen werden, die zusätzliche Funktionen definieren.
Hier ein etwas komplexeres Beispiel mit einem anderen Papierformat und einem Gliederungsbefehl.

\starttyping
\setuppapersize[A5]
\starttext
  \startchapter[title={Kapitel}]
  Text
  \stopchapter
\stoptext
\stoptyping

Es stehen die Papierformate A0 bis A10 sowie die dazugehörigen B und C Formate zur Verfügung,
zusätzlich gibt es noch die Option \type{landscape} für Dokumente im Querformat.

Außerdem gibt es die Formate S3 bis S6, S8, SM und SW für die Darstellung am Bildschirm, z.\,B. für Präsentationen.

Eigene Papiergrößen lassen sich leicht definieren.
Hier werden drei Seiten mit einem Drittel der DIN A4 Breite auf ein Blatt DIN A4 montiert.

\starttyping
\definepapersize [A4/3] [width=99mm,height=210mm]
\setuppapersize  [A4/3] [A4,landscape]
\setuppaper      [nx=3,ny=1]
[XY]
\stoptyping

Wie man im Beispiel sieht, verwendet ConTeXt zwei Arten von Klammern.
Text der ausgegeben wird steht normalerweise in geschweiften Klammern \type{{}},
Optionen oder Parameter in eckigen Klammern \type{[]}.
Dabei werden Optionen und Parameter in getrennten Klammerpaaren eingegeben.

\starttyping
\Befehl[optionon][parameter=wert]{Text}
\stoptyping

\startsubsection[title={Sprachauswahl}]
\index{Sprachauswahl}

Jede Sprache hat ihre Eigenheiten.
Das fängt bei den Trennmustern an, 
geht über die Anführungszeichen bis hin zu Bezeichnungen für bestimmte Dokumentteile wie Kapitel oder Seite.

Die Hauptsprache wird in ConTeXt mit dem Befehl

\starttyping
\mainlanguage[de]
\stoptyping

ausgewählt.
Dieser setzt auch andere Einstellungen, wie Anführungsstriche und 
automatisch generierte Texte.

Er sorgt dafür, dass statt \quotation{\mainlanguage[en]\labeltext{page}} oder \quotation{\mainlanguage[en]\labeltext{figure}} die richtigen Wörter
\quotation{\labeltext{page}} und \quotation{\labeltext{figure}} erscheinen.

{Mit dem Befehl

\setuplabeltext[de][figure=Bild ] % Leerzeichen ist wichtig!

\starttyping
\setuplabeltext[de][figure=Bild ] % Leerzeichen ist wichtig!
\stoptyping

lassen sich die Begriffe ändern. Jetzt wir als Text \quotation{\labeltext{figure}} ausgegeben.}

Neben der aktuellen Rechtschreibung (seit 1996) wird auch die mittlere Rechtschreibung (1901 -- 1996)
unterstützen.
Dazu ist als Sprache \type{deo} zu wählen.
Für die alte Rechtschreibung (1876 -- 1901) gibt es leider keine Trennmuster.

Texte in anderen Sprachen lassen sich ausgeben, wenn man die Sprache umschaltet.

\starttyping
{\language[fr]
La langue française. Le français se parle dans de nombreux pays.
}
\stoptyping

Wählt die französischen Trennmuster aus. 

{\language[fr]
La langue française. Le français se parle dans de nombreux pays.
}

\stopsubsection

\startsubsection[title={Projekte}]
\index{Projekt}

Für größere Arbeiten gibt es eine Projektverwaltung.
In der obersten Ebene werden alle Einstellungen für alle Produkte in einer Environment-Datei festgelegt.
In der nächsten Ebene befinden sich dann die einzelnen Produkte.
Jedes Produkt besteht aus mehreren Kapiteln, die jeweils in einer Datei gespeichert werden.

Jedes Produkt wird als eigenes Dokument übersetzt.
Es ist aber auch möglich nur einzelne Dateien zu übersetzen, 
das spart in der Entwurfsphase sehr viel Zeit, da nur ein Dokument übersetzt wird.
Das ist deutlich einfacher als mit \tex{includeonly} und \type{% !TEX root = } zu arbeiten.

Diese Anleitung ist als Projekt aufgebaut.

Es empfiehlt sich die Dateiarten anhand des Dateinamens zu unterscheiden.

\startdescription{\type{env}}
  Environment Dateien
\stopdescription

\startdescription{\type{prj}}
  Die Projekt Datei
\stopdescription

\startdescription{\type{prd}}
  Die einzelnen Produkte (Je eins pro Unterverzeichnis)
\stopdescription

\startdescription{\type{c}}
  Die einzelnen Kapitel eines Produkts.
\stopdescription

Es können natürlich auch andere Bezeichnungen gewählt werden,
z.\,B. \type{A} für Abschnitt bzw. \type{K} für Kapitel und \type{B} für Buch.
Die Bezeichnungen sollten nur konsistent sein.

\stopsubsection

\startsubsection[title={Wer bin ich?}]

Manchmal ist es sinnvoll den Dateinamen der aktuellen Datei zu kennen,
z.\,B. um ihn bei einem Dokument mit mehreren Dateien in die Fußzeile zu schreiben.
In den meisten Fällen reicht \tex{jobname} aus.

\starttabulate [|T|T|]
\NC \tex{jobname}           \NC \jobname           \NC\NR
\NC \tex{jobfilename}       \NC \jobfilename       \NC\NR
% \NC \tex{jobfilesuffix}     \NC \jobfilesuffix     \NC\NR
\NC \tex{inputfilename}     \NC \inputfilename     \NC\NR
\NC \tex{inputfilebarename} \NC \inputfilebarename \NC\NR
% \NC \tex{inputfilesuffix}   \NC \inputfilesuffix   \NC\NR
\NC \tex{outputfilename}    \NC \outputfilename    \NC\NR
\NC \tex{operatingsystem}   \NC \operatingsystem   \NC\NR
\stoptabulate

\stopsubsection

\stopsection


\stopcomponent
