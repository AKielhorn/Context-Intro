% !TEX TS-program = ConTeXt (LuaTeX 1.0.9)
% !TEX encoding = UTF-8 Unicode

% Copyright 2018 Axel Kielhorn
% Lizenz: CC-BY-SA 4.0 Unported http://creativecommons.org/licenses/by-sa/4.0/deed.de

\startcomponent *
\product prd_intro
\project project_intro

\startsection[
  reference=Grafiken,
  title={Grafiken},
  ]
\index{Bilder}\index{Grafik}
Bilder werden mit dem Befehl \type{\externalfigure} eingebunden. 
Dabei kann das Bild skaliert werden.

\starttyping
\externalfigure[cow.pdf]
\externalfigure[cow.pdf][width=3cm]
\externalfigure[cow.pdf][height=2cm]
\externalfigure[cow.pdf][scale=500] % 0,5 * 1000
\externalfigure[cow.pdf][maxwidth=0.4\textwidth]
\stoptyping

\externalfigure[cow.pdf]
\externalfigure[cow.pdf][width=1cm]
\externalfigure[cow.pdf][height=1cm]
\externalfigure[cow.pdf][scale=500]%
\externalfigure[cow.pdf][maxwidth=0.4\textwidth]

Damit die Kuh nicht die Seite verlässt, 
empfiehlt es sich in der Environment-Datei folgende Einstellung vorzunehmen:

\starttyping
\setupexternalfigures
    [maxwidth=\textwidth,
     maxheight=0.8\textheight]
\stoptyping

Bilder lassen sich in 90° Schritten rotieren, dazu dient die Option \type{orientation}.

\starttyping
\externalfigure[cow.pdf][orientation=90] % 90, 180, 270
\stoptyping

Aus Tierschutzgründen gibt es hierzu keine Abbildung.

Diese Kuh wird bei ConTeXt als Beispielgrafik mitgeliefert.
Neben PDF können auch die Formate JPEG, JPEG2000, JBIG und PNG benutzt werden.

Mit dem \type{\placefigure} Befehl werden aus den Bildern Gleitobjekte.
Außerdem werden sie ins Abbildungsverzeichnis aufgenommen.

\placefigure{%
\useURL[url5][http://wiki.contextgarden.net/Using_Graphics][][Eine Kuh im Internet]\from[url5]}{\externalfigure[cow.pdf]}

Für das Abbildungsverzeichnis testen wir noch eine zweite Abbildung.

\placefigure{Eine Kuh als Gleitobjekt}{\externalfigure[cow.pdf]}

\startsubsection[title={Bildersuche}]

Wo sucht ConTeXt nach Bildern?

Standardmäßig sucht ConTeXt im aktuellen Verzeichnis sowie im darüberliegenden Verzeichnis.
Möchte man die Bilder in ein Unterverzeichnis verbannen, 
so kann man entweder jedes Mal den Pfad angeben:

\starttyping
\externalfigure{Bilder/cow.pdf}
\stoptyping

Einfacher ist es den Pfad für das gesamte Dokument als Suchpfad zu definieren.

\starttyping
\setupexternalfigures[directory={Bilder,../Bilder}] 
\stoptyping

So könnte man auch ein Verzeichnis außerhalb des Dokumentpfades angeben,
dies wird dann aber nicht in die Versionsverwaltung einbezogen und bei der
Weitergabe des Projekts kann man es leicht vergessen.

\starttyping
\setupexternalfigures[directory={/Users/axel/Pictures/context-bilder}] 
\stoptyping

Hierbei gibt es einen Stolperstein: Viele Betriebssysteme verwenden standardmäßig englische
Bezeichnungen für die Verzeichnisse, zeigen auf der grafischen Oberfläche aber übersetzte Namen an.
Den wirklichen Verzeichnisnamen verrät dann das Terminal oder die Eingabeaufforderung. 

\stopsubsection
\stopsection

\stopcomponent

